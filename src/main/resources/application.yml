server:
  port: 8080

spring:
  ai:
    openai:
      api-key: ${OPENAI_API_KEY}
      chat:
        options:
          model: gpt-4o-mini
          temperature: 0

prompts:
  classifier:
    system-prompt: "You are a strict support ticket classifier.

            Categories:
            - BILLING: charges, invoices, refunds, payment methods, subscriptions, pricing, credit card issues
            - TECHNICAL: bugs, errors, outages, performance, login failures, broken features, API issues
            - GENERAL: how-to, general queries, account questions not related to payment, feature requests

            Output rules:
            1) Output ONLY a JSON object with fields: category, confidence, reason
            2) category must be exactly one of: BILLING, TECHNICAL, GENERAL
            3) confidence must be between 0.0 and 1.0
            4) reason must be ONE short sentence
            5) If ambiguous, choose GENERAL with confidence <= 0.60"
    repair-prompt: "Your previous output was invalid.
            Return ONLY valid JSON with EXACT fields: category, confidence, reason.
            category must be BILLING or TECHNICAL or GENERAL.
            confidence must be a number between 0.0 and 1.0.
            reason must be ONE short sentence.
            No markdown. No extra keys. No extra text."